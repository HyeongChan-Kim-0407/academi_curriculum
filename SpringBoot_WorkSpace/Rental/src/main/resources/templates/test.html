<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Kakao 지도 시작하기</title>
</head>

<body>
	<div id="map" style="width:500px;height:400px;"></div>
	<script type="text/javascript"
		src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=5fe73c9dc4e522a50f51f878b6b7752a&libraries=services"></script>
	<script>
		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
			mapOption = {
				center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
				level: 1 // 지도의 확대 레벨
			};

		// 지도를 생성합니다    
		var map = new kakao.maps.Map(mapContainer, mapOption);

		// 주소-좌표 변환 객체를 생성합니다
		var geocoder = new kakao.maps.services.Geocoder();

		/* 현재 좌표 받아오기 */
		// HTML5의 geolocation으로 사용할 수 있는지 확인합니다
		
            navigator.geolocation.getCurrentPosition(function (position) {
                var lat = position.coords.latitude, // 위도
                    lng = position.coords.longitude; // 경도
			    console.log(lat, lng);
                var locPosition = new kakao.maps.LatLng(lat, lng); // 현재 위치 좌표


				searchDetailAddrFromCoords(new kakao.maps.LatLng(lat, lng), function(result, status) {
				        if (status === kakao.maps.services.Status.OK) {
				            var detailAddr = !!result[0].road_address ? result[0].road_address.address_name  : '';
				            console.log(detailAddr);
						    let road_address =  result[0].road_address;
							let jibun_address = result[0].address;
							console.log(road_address);
							console.log(jibun_address.region_3depth_name);

				        }   
				    });
            });
        

		function searchAddrFromCoords(coords, callback) {
			// 좌표로 행정동 주소 정보를 요청합니다
			geocoder.coord2RegionCode(coords.getLng(), coords.getLat(), callback);
		}

		function searchDetailAddrFromCoords(coords, callback) {
			// 좌표로 법정동 상세 주소 정보를 요청합니다
			geocoder.coord2Address(coords.getLng(), coords.getLat(), callback);
		}



	</script>
</body>

</html>