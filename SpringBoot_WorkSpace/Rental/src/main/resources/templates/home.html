<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />

    <title>HOME.HTML</title>

    <!-- Bootstrap CSS & JS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>

    <!-- ìŠ¤íƒ€ì¼ ì œê±°, Bootstrap í´ë˜ìŠ¤ë§Œ ì‚¬ìš© -->
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
  </head>

  <body>
    <div
      class="d-flex justify-content-between align-items-center px-5 pt-4"
      style="background: #fff"
    >
      <div class="d-flex align-items-center">
        <div class="d-flex flex-column align-items-start">
          <span
            class="fw-bold"
            style="font-size: 2rem; color: #ff6f0f; line-height: 1.1"
            >PROJECT</span
          >
          <span
            class="ms-1"
            style="
              font-size: 0.95rem;
              color: #444;
              font-weight: 500;
              line-height: 1.1;
              margin-top: 2px;
              margin-bottom: 0;
            "
            >ëŒ€ì—¬, ê³µìœ  í”Œë«í¼</span
          >
        </div>
      </div>
      <div>
        <a
          href="/member/join"
          class="btn"
          style="
            background: #ff6f0f;
            color: #fff;
            font-weight: bold;
            border-radius: 8px;
            padding: 10px 24px;
            font-size: 1rem;
          "
          >íšŒì›ê°€ì…</a
        >
        <a
          href="/member/login"
          class="btn ms-2"
          style="
            background: #222;
            color: #fff;
            font-weight: bold;
            border-radius: 8px;
            padding: 10px 24px;
            font-size: 1rem;
          "
          >ë¡œê·¸ì¸</a
        >
      </div>
    </div>
    <div class="text-center fw-bold mt-5 mb-4" style="font-size: 2.2rem">
      <i
        class="bi bi-geo-alt-fill"
        style="color: #ff6f0f; font-size: 2.2rem; vertical-align: middle"
      ></i>
      <span id="location-name">ì‹ ë‹¹ë™</span>ì—ì„œ
      <span id="job-rotate">ì•Œë°”</span> ì°¾ê³  ê³„ì‹ ê°€ìš”?
    </div>
    <div class="d-flex justify-content-center align-items-center mb-3">
      <button
        class="btn me-2"
        style="
          height: 48px;
          width: 120px;
          font-size: 1rem;
          border-radius: 24px;
          color: white;
          background: black;
        "
      >
        ìœ„ì¹˜ ì„¤ì •
      </button>

      <select
        class="form-select me-2"
        style="height: 48px; width: 120px; font-size: 1rem; border-radius: 24px"
      >
        <option>ì¤‘ê³ ê±°ë˜</option>
        <option>ì•Œë°”</option>
        <option>ë¶€ë™ì‚°</option>
      </select>
      <input
        type="text"
        class="form-control me-2"
        style="height: 48px; width: 320px; font-size: 1rem; border-radius: 24px"
        placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
      />
      <button
        class="btn"
        style="
          background: #222;
          color: #fff;
          border-radius: 24px;
          height: 48px;
          font-size: 1.2rem;
          padding: 0 24px;
        "
      >
        â†’
      </button>
    </div>
    <div class="text-center text-secondary mb-4" style="font-size: 0.95rem">
      ì¸ê¸° ê²€ìƒ‰ì–´: ì—ì–´ì»¨, ì—ì–´ì»¨ì²­ì†Œ, ë…¸íŠ¸ë¶, ì›ë£¸, í˜„ëŒ€ ì¤‘ê³ ì°¨, ì´ì‚¬ì§ ì•Œë°”,
      ê·¼ì²˜ ë§›ì§‘, íˆ¬í‘œ, ë™ë„¤ì¹œêµ¬, ë°°ë‹¬
    </div>
    <div class="d-flex justify-content-center gap-4 flex-wrap">
      <div
        class="bg-light rounded-4 shadow-sm p-4 text-center"
        style="width: 120px"
      >
        <div style="font-size: 2.5rem; color: #ff6f0f">ğŸ›ï¸</div>
        <div class="fw-bold mt-2" style="font-size: 1.1rem; color: #222">
          ì¤‘ê³ ê±°ë˜
        </div>
      </div>
      <div
        class="bg-light rounded-4 shadow-sm p-4 text-center"
        style="width: 120px"
      >
        <div style="font-size: 2.5rem; color: #ff6f0f">ğŸ”</div>
        <div class="fw-bold mt-2" style="font-size: 1.1rem; color: #222">
          ì•Œë°”
        </div>
      </div>
      <div
        class="bg-light rounded-4 shadow-sm p-4 text-center"
        style="width: 120px"
      >
        <div style="font-size: 2.5rem; color: #ff6f0f">ğŸ </div>
        <div class="fw-bold mt-2" style="font-size: 1.1rem; color: #222">
          ë¶€ë™ì‚°
        </div>
      </div>
      <div
        class="bg-light rounded-4 shadow-sm p-4 text-center"
        style="width: 120px"
      >
        <div style="font-size: 2.5rem; color: #ff6f0f">ğŸš—</div>
        <div class="fw-bold mt-2" style="font-size: 1.1rem; color: #222">
          ì¤‘ê³ ì°¨
        </div>
      </div>
      <div
        class="bg-light rounded-4 shadow-sm p-4 text-center"
        style="width: 120px"
      >
        <div style="font-size: 2.5rem; color: #ff6f0f">ğŸ¢</div>
        <div class="fw-bold mt-2" style="font-size: 1.1rem; color: #222">
          ë™ë„¤ì—…ì²´
        </div>
      </div>
      <div
        class="bg-light rounded-4 shadow-sm p-4 text-center"
        style="width: 120px"
      >
        <div style="font-size: 2.5rem; color: #ff6f0f">ğŸ“‹</div>
        <div class="fw-bold mt-2" style="font-size: 1.1rem; color: #222">
          ë™ë„¤ìƒí™œ
        </div>
      </div>
      <div
        class="bg-light rounded-4 shadow-sm p-4 text-center"
        style="width: 120px"
      >
        <div style="font-size: 2.5rem; color: #ff6f0f">ğŸ‘‘</div>
        <div class="fw-bold mt-2" style="font-size: 1.1rem; color: #222">
          ëª¨ì„
        </div>
      </div>
    </div>
  </body>
  <script>
    const jobList = ["ì•Œë°”", "ë„ì„œ", "ê³µêµ¬", "ìì „ê±°"];
    let idx = 0;
    setInterval(() => {
      idx = (idx + 1) % jobList.length;
      document.getElementById("job-rotate").textContent = jobList[idx];
    }, 2000);
  </script>

  <div id="map" style="width: 500px; height: 400px"></div>
  <script
    type="text/javascript"
    src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=5fe73c9dc4e522a50f51f878b6b7752a&libraries=services"
  ></script>
  <script>
    var mapContainer = document.getElementById("map"), // ì§€ë„ë¥¼ í‘œì‹œí•  div
      mapOption = {
        center: new kakao.maps.LatLng(37.566826, 126.9786567), // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
        level: 1, // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
      };

    // ì§€ë„ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
    var map = new kakao.maps.Map(mapContainer, mapOption);

    // ì£¼ì†Œ-ì¢Œí‘œ ë³€í™˜ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
    var geocoder = new kakao.maps.services.Geocoder();

    /* í˜„ì¬ ì¢Œí‘œ ë°›ì•„ì˜¤ê¸° */
    // HTML5ì˜ geolocationìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤

    navigator.geolocation.getCurrentPosition(function (position) {
      var lat = position.coords.latitude, // ìœ„ë„
        lng = position.coords.longitude; // ê²½ë„
      console.log(lat, lng);
      var locPosition = new kakao.maps.LatLng(lat, lng); // í˜„ì¬ ìœ„ì¹˜ ì¢Œí‘œ

      searchDetailAddrFromCoords(
        new kakao.maps.LatLng(lat, lng),
        function (result, status) {
          if (status === kakao.maps.services.Status.OK) {
            var detailAddr = !!result[0].road_address
              ? result[0].road_address.address_name
              : "";
            console.log(detailAddr);
            let road_address = result[0].road_address;
            let jibun_address = result[0].address;
            console.log(road_address);
            // ë™ ì´ë¦„ì„ #location-nameì— ì¶œë ¥
            if (jibun_address && jibun_address.region_3depth_name) {
              document.getElementById("location-name").textContent =
                jibun_address.region_3depth_name;
            }
          }
        }
      );
    });

    // ì§€ë„ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€: í´ë¦­í•œ ìœ„ì¹˜ì˜ ë™ ì´ë¦„ì„ #location-nameì— ì¶œë ¥
    kakao.maps.event.addListener(map, "click", function (mouseEvent) {
      var latlng = mouseEvent.latLng;
      searchDetailAddrFromCoords(latlng, function (result, status) {
        if (status === kakao.maps.services.Status.OK) {
          let jibun_address = result[0].address;
          if (jibun_address && jibun_address.region_3depth_name) {
            document.getElementById("location-name").textContent =
              jibun_address.region_3depth_name;
          }
        }
      });
    });
    function searchAddrFromCoords(coords, callback) {
      // ì¢Œí‘œë¡œ í–‰ì •ë™ ì£¼ì†Œ ì •ë³´ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤
      geocoder.coord2RegionCode(coords.getLng(), coords.getLat(), callback);
    }

    function searchDetailAddrFromCoords(coords, callback) {
      // ì¢Œí‘œë¡œ ë²•ì •ë™ ìƒì„¸ ì£¼ì†Œ ì •ë³´ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤
      geocoder.coord2Address(coords.getLng(), coords.getLat(), callback);
    }
  </script>
</html>
