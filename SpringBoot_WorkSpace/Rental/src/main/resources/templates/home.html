<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8" />

	<title>HOME.HTML</title>

	<!-- Bootstrap CSS & JS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
		crossorigin="anonymous"></script>

	<!-- ìŠ¤íƒ€ì¼ ì œê±°, Bootstrap í´ë˜ìŠ¤ë§Œ ì‚¬ìš© -->
	<!-- Bootstrap Icons -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
</head>

<body>
	<div class="d-flex justify-content-between align-items-center px-5 pt-4" style="background: #fff">
		<div class="d-flex align-items-center">
			<div class="d-flex flex-column align-items-start">
				<a class="fw-bold" href="/"
					style="font-size: 2rem; color: #ff6f0f; line-height: 1.1;text-decoration: none !important;">PROJECT</a>
				<span class="ms-1" style="
						font-size: 0.95rem;
						color: #444;
						font-weight: 500;
						line-height: 1.1;
						margin-top: 2px;
						margin-bottom: 0;
					  ">ê³µê°„ ëŒ€ì—¬ í”Œë«í¼</span>
			</div>
		</div>
		<div>
			<!-- ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼ ë²„íŠ¼ í‘œì‹œ -->
			<th:block th:if="${session.loginMid == null}">
				<a href="/member/join" class="btn" style="
              background: #ff6f0f;
              color: #fff;
              font-weight: bold;
              border-radius: 8px;
              padding: 10px 24px;
              font-size: 1rem;
            ">íšŒì›ê°€ì…</a>
				<a href="/member/login" class="btn ms-2" style="
              background: #222;
              color: #fff;
              font-weight: bold;
              border-radius: 8px;
              padding: 10px 24px;
              font-size: 1rem;
            ">ë¡œê·¸ì¸</a>
			</th:block>
			<th:block th:if="${session.loginMid != null}">
				<span style="
              font-size: 1.05rem;
              font-weight: 500;
              color: #222;
              margin-right: 16px;
            ">
					<span th:text="${session.mname}"></span>ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!
				</span>
				<a href="/member/logout" class="btn" style="
              background: #ff6f0f;
              color: #fff;
              font-weight: bold;
              border-radius: 8px;
              padding: 10px 24px;
              font-size: 1rem;
            ">ë¡œê·¸ì•„ì›ƒ</a>
			</th:block>
		</div>
	</div>
	<div class="text-center fw-bold mt-5 mb-4" style="font-size: 2.2rem">
		<i class="bi bi-geo-alt-fill" style="color: #ff6f0f; font-size: 2.2rem; vertical-align: middle"></i>
		<span id="location-name"
			th:text="${dongName != null && !#strings.isEmpty(dongName) ? dongName : 'ì‹ ë‹¹ë™'}">ì‹ ë‹¹ë™</span>ì—ì„œ <span
			id="job-rotate"></span> ì°¾ê³  ê³„ì‹ ê°€ìš”?
	</div>
	<div class="d-flex justify-content-center align-items-center mb-3">
		<div class="d-flex justify-content-center align-items-center w-100" style="gap: 12px">
			<a href="/map" class="btn d-flex align-items-center justify-content-center" style="
            height: 48px;
            width: 120px;
            font-size: 1rem;
            border-radius: 24px;
            color: white;
            background: black;
            gap: 6px;
          ">
				<i class="bi bi-geo-alt-fill" style="font-size: 1.2rem; color: #ff6f0f"></i>
				ìœ„ì¹˜ì„¤ì •
			</a>
			<select class="form-select" style="
            height: 48px;
            width: 120px;
            font-size: 1rem;
            border-radius: 24px;
          ">
				<option>ì—°ìŠµì‹¤</option>
				<option>ì˜¤í”¼ìŠ¤</option>
				<option>íŒŒí‹°ë£¸</option>
				<option>ìƒê°€</option>
				<option>ìŠ¤í„°ë””ë£¸</option>
				<option>ìˆ™ì†Œ</option>
				<option>ê¸°íƒ€</option>
			</select>
			<input type="text" class="form-control" style="
            height: 48px;
            width: 320px;
            font-size: 1rem;
            border-radius: 24px;
          " placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" />
			<button class="btn" style="
            background: #222;
            color: #fff;
            border-radius: 24px;
            height: 48px;
            font-size: 1.2rem;
            padding: 0 24px;
            display: flex;
            align-items: center;
            justify-content: center;
          ">
				â†’
			</button>
		</div>
	</div>
	<div class="text-center text-secondary mb-4" style="font-size: 0.95rem">
		ì¸ê¸° ê²€ìƒ‰ì–´: ì—ì–´ì»¨, ì—ì–´ì»¨ì²­ì†Œ, ë…¸íŠ¸ë¶, ì›ë£¸, í˜„ëŒ€ ì¤‘ê³ ì°¨, ì´ì‚¬ì§ ì•Œë°”,
		ê·¼ì²˜ ë§›ì§‘, íˆ¬í‘œ, ë™ë„¤ì¹œêµ¬, ë°°ë‹¬
	</div>

	<div th:if="${session.loginMid != null}" class="d-flex justify-content-center gap-4 flex-wrap">
		<div th:each="interests : ${interests}" class="bg-light rounded-4 shadow-sm p-4 text-center"
			style="width: 120px">

			<div style="font-size: 2.5rem; color: #ff6f0f">
				<span th:switch="${interests.interest}">
					<span th:case="'practice'">ğŸ¤</span>
					<span th:case="'office'">ğŸ¢</span>
					<span th:case="'partyroom'">ğŸˆ</span>
					<span th:case="'studyroom'">ğŸ«</span>
					<span th:case="'hotel'">ğŸ¨</span>
					<span th:case="'downtown'">ğŸ¬</span>
				</span>
			</div>
			<div class="fw-bold mt-2" style="font-size: 1.1rem; color: #222">
				<span th:switch="${interests.interest}">
					<span th:case="'practice'">ì—°ìŠµì‹¤</span>
					<span th:case="'office'">ì˜¤í”¼ìŠ¤</span>
					<span th:case="'partyroom'">íŒŒí‹°ë£¸</span>
					<span th:case="'studyroom'">ìŠ¤í„°ë””ë£¸</span>
					<span th:case="'hotel'">ìˆ™ì†Œ</span>
					<span th:case="'downtown'">ìƒê°€</span>
					<span th:case="*">ğŸ¬</span>
				</span>
			</div>
		</div>
	</div>


	<!-- í•˜ë‹¨ ì˜¤ë¥¸ìª½ í”Œë¡œíŒ… í”ŒëŸ¬ìŠ¤ ë²„íŠ¼ -->
	<button type="button" id="fab-plus" style="
	     position: fixed;
	     right: 32px;
	     bottom: 32px;
	     width: 64px;
	     height: 64px;
	     border-radius: 50%;
	     background: #ff6f0f;
	     color: #fff;
	     box-shadow: 0 4px 16px #0002;
	     border: none;
	     display: flex;
	     align-items: center;
	     justify-content: center;
	     font-size: 2.2rem;
	     z-index: 999;
	     cursor: pointer;
	   " onclick="location.href='/place/regist'">
		<i class="bi bi-plus"></i>
	</button>
</body>
<script>
	const jobList = ["ì—°ìŠµì‹¤", "íŒŒí‹°ë£¸", "ìŠ¤í„°ë””ë£¸", "ì˜¤í”¼ìŠ¤", "ìƒê°€", "ìˆ™ì†Œ"];
	let idx = 0;
	setInterval(() => {
		idx = (idx + 1) % jobList.length;
		document.getElementById("job-rotate").textContent = jobList[idx];
	}, 2000);

	// ìœ„ì¹˜ì„¤ì • ë§í¬ í´ë¦­ ì‹œ ìƒˆ ì°½ìœ¼ë¡œ map.html ì˜¤í”ˆ
	document.addEventListener("DOMContentLoaded", function () {
		// ìœ„ì¹˜ì„¤ì • ë²„íŠ¼ ìƒˆ ì°½ ì˜¤í”ˆ
		const locationBtn = document.querySelector('a[href="/map"]');
		if (locationBtn) {
			locationBtn.addEventListener("click", function (e) {
				e.preventDefault();
				window.open("/map", "_blank", "width=600,height=600");
			});
		}
	});

	// map.htmlì—ì„œ ë™ ì´ë¦„ ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ location-nameì— ì¶œë ¥
	window.addEventListener("message", function (event) {
		if (event.data && event.data.dong) {
			document.getElementById("location-name").textContent = event.data.dong;
		}
	});
</script>

</html>